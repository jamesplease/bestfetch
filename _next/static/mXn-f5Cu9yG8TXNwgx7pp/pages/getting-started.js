(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{ARpD:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return c}));var o=n("q1tI"),r=n.n(o),s=n("10ji"),a=n.n(s),i=n("YFqc"),l=n.n(i),u=r.a.createElement;function c(){return u("div",{className:"page"},u("h1",null,"Getting Started"),u("p",null,"bestfetch is a lightweight HTTP request library that improves your application's performance by minimizing the number of requests that go over the network."),u("h2",null,"Installation"),u("p",null,"Install using ",u("a",{href:"https://npmjs.com"},"npm"),":"),u("code",{className:"codeBlock"},"npm install bestfetch"),u("p",null,"or ",u("a",{href:"https://yarnpkg.com"},"yarn"),":"),u("code",{className:"codeBlock"},"yarn add bestfetch"),u("h2",null,"Basic Usage"),u("p",null,"Get started by importing the ",u("code",null,"bestfetch")," function. The following example demonstrates importing it using the"," ",u("a",{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/import"},"ES2015 module syntax"),"."),u(a.a,{language:"js",inline:!1,value:"import { bestfetch } from 'bestfetch';"}),u("p",null,"Use this function to make requests. In the following example, a request is made to fetch a todo item from an API."),u("div",{className:"advanced"},u("span",{className:"emoji"},"\ud83d\udc81\u200d\u2640\ufe0f")," ",u("b",null,"Heads up!")," You can copy and paste the following code snippet into your browser's developer tools to try it out!"),u(a.a,{language:"js",inline:!1,value:"bestfetch('https://jsonplaceholder.typicode.com/todos/1')\n  .then(res => {\n    console.log('Got some data', res.data);\n  });"}),u("p",null,"If you run that code snippet several times you'll see that a single network request is made; subsequent requests hit the cache and resolve immediately."),u("p",null,"If you're familiar with ",u("code",null,"fetch"),", you may have noticed that we're not calling ",u("code",null,".json()"),"on the response. Typical ",u("code",null,"fetch")," usage would look like the following:"),u(a.a,{language:"js",inline:!1,value:"fetch('https://jsonplaceholder.typicode.com/todos/1')\n  .then(res => res.json())\n  .then(data => {\n    console.log('Got some data', data);\n  });"}),u("p",null,"When you call ",u("code",null,".json()")," you're reading the response body from the server and parsing it as JSON. When you use bestfetch, the request body is read and parsed as JSON automatically for you (although this"," ",u(l.a,{href:"/guides/other-response-types"},u("a",null,"can be configured")),")."),u("h2",null,"Next Steps"),u("p",null,"Now that you've seen the basic usage of bestfetch, read the"," ",u(l.a,{href:"/guides/making-requests"},u("a",null,"Making Requests"))," ","guide to learn more."))}},YFqc:function(e,t,n){e.exports=n("cTJO")},cTJO:function(e,t,n){"use strict";var o=n("lwsE"),r=n("W8MJ"),s=n("a1gu"),a=n("Nsbk"),i=n("7W2i"),l=n("TqRt"),u=n("284h");t.__esModule=!0,t.default=void 0;var c,p=u(n("q1tI")),h=n("QmWs"),f=n("g/15"),d=l(n("nOHt"));function m(e){return e&&"object"===typeof e?(0,f.formatWithValidation)(e):e}var g=new Map,v=window.IntersectionObserver,y={};function w(){return c||(v?c=new v((function(e){e.forEach((function(e){if(g.has(e.target)){var t=g.get(e.target);(e.isIntersecting||e.intersectionRatio>0)&&(c.unobserve(e.target),g.delete(e.target),t())}}))}),{rootMargin:"200px"}):void 0)}var b=function(e){function t(e){var n;return o(this,t),(n=s(this,a(t).call(this,e))).p=void 0,n.cleanUpListeners=function(){},n.formatUrls=function(e){var t=null,n=null,o=null;return function(r,s){if(o&&r===t&&s===n)return o;var a=e(r,s);return t=r,n=s,o=a,a}}((function(e,t){return{href:m(e),as:t?m(t):t}})),n.linkClicked=function(e){var t=e.currentTarget,o=t.nodeName,r=t.target;if("A"!==o||!(r&&"_self"!==r||e.metaKey||e.ctrlKey||e.shiftKey||e.nativeEvent&&2===e.nativeEvent.which)){var s=n.formatUrls(n.props.href,n.props.as),a=s.href,i=s.as;if(function(e){var t=(0,h.parse)(e,!1,!0),n=(0,h.parse)((0,f.getLocationOrigin)(),!1,!0);return!t.host||t.protocol===n.protocol&&t.host===n.host}(a)){var l=window.location.pathname;a=(0,h.resolve)(l,a),i=i?(0,h.resolve)(l,i):a,e.preventDefault();var u=n.props.scroll;null==u&&(u=i.indexOf("#")<0),d.default[n.props.replace?"replace":"push"](a,i,{shallow:n.props.shallow}).then((function(e){e&&u&&(window.scrollTo(0,0),document.body.focus())}))}}},n.p=!1!==e.prefetch,n}return i(t,e),r(t,[{key:"componentWillUnmount",value:function(){this.cleanUpListeners()}},{key:"getPaths",value:function(){var e=window.location.pathname,t=this.formatUrls(this.props.href,this.props.as),n=t.href,o=t.as,r=(0,h.resolve)(e,n);return[r,o?(0,h.resolve)(e,o):r]}},{key:"handleRef",value:function(e){var t=this;this.p&&v&&e&&e.tagName&&(this.cleanUpListeners(),y[this.getPaths().join("%")]||(this.cleanUpListeners=function(e,t){var n=w();return n?(n.observe(e),g.set(e,t),function(){try{n.unobserve(e)}catch(t){console.error(t)}g.delete(e)}):function(){}}(e,(function(){t.prefetch()}))))}},{key:"prefetch",value:function(e){if(this.p){var t=this.getPaths();d.default.prefetch(t[0],t[1],e).catch((function(e){0})),y[t.join("%")]=!0}}},{key:"render",value:function(){var e=this,t=this.props.children,n=this.formatUrls(this.props.href,this.props.as),o=n.href,r=n.as;"string"===typeof t&&(t=p.default.createElement("a",null,t));var s=p.Children.only(t),a={ref:function(t){e.handleRef(t),s&&"object"===typeof s&&s.ref&&("function"===typeof s.ref?s.ref(t):"object"===typeof s.ref&&(s.ref.current=t))},onMouseEnter:function(t){s.props&&"function"===typeof s.props.onMouseEnter&&s.props.onMouseEnter(t),e.prefetch({priority:!0})},onClick:function(t){s.props&&"function"===typeof s.props.onClick&&s.props.onClick(t),t.defaultPrevented||e.linkClicked(t)}};return!this.props.passHref&&("a"!==s.type||"href"in s.props)||(a.href=r||o),p.default.cloneElement(s,a)}}]),t}(p.Component);t.default=b},pxKX:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/getting-started",function(){return n("ARpD")}])}},[["pxKX",0,1,2,3]]]);