(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{"1KBa":function(e,n,t){"use strict";function l(){return(l=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l])}return e}).apply(this,arguments)}var o=t("Ff2n"),r=t("q1tI"),u=t.n(r),a=t("YFqc"),s=t.n(a),i=u.a.createElement;n.a=function(e){var n=e.href,t=Object(o.a)(e,["href"]);return i(s.a,l({href:n,as:"".concat("/bestfetch").concat(n)},t))}},"8Cdm":function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/api-reference/bestfetch",function(){return t("CckF")}])},CckF:function(e,n,t){"use strict";t.r(n),t.d(n,"default",(function(){return i}));var l=t("q1tI"),o=t.n(l),r=t("10ji"),u=t.n(r),a=t("1KBa"),s=o.a.createElement;function i(){return s("div",{className:"page"},s("h1",null,s("code",null,"bestfetch")),s("p",null,"Initiates an HTTP request."),s(u.a,{language:"js",inline:!1,value:"import { bestfetch } from 'bestfetch';"}),s("h3",null,"Arguments"),s("ol",null,s("li",null,s("code",null,"url"),". The URL of the request."),s("li",null,"[",s("code",null,"options"),"]. An object that allows you to configure the request. No options are required. Supported options are:",s("ul",null,s("li",null,s("b",null,s("code",null,"method")),": The HTTP method of the request."),s("li",null,s("b",null,s("code",null,"body")),": The body of the request; typically a ",s("code",null,"string"),"."),s("li",null,s("b",null,s("code",null,"headers")),": An object of HTTP headers to include in the request."),s("li",null,s("b",null,s("code",null,"dedupe")),": Whether or not to deduplicate the request. Defaults to"," ",s("code",null,"true"),"."," ",s(a.a,{href:"/guides/deduplicating-requests"},s("a",null,"Learn more here"))),s("li",null,s("b",null,s("code",null,"cachePolicy")),": Determines how the cache will be used, if at all. Defaults to"," ",s("code",null,'"cache-first"'),". Valid values are"," ",s("code",null,'"cache-first"'),", ",s("code",null,'"network-only"'),", and"," ",s("code",null,'"cache-only"'),"."," ",s(a.a,{href:"/guides/caching-responses"},s("a",null,"Learn more here")),"."),s("li",null,s("b",null,s("code",null,"responseType")),": The ",s("code",null,"responseType")," option of the request. Defaults to"," ",s("code",null,'"json"'),". Valid values are ",s("code",null,'"json"'),","," ",s("code",null,'"text"'),", ",s("code",null,'"formData"'),", ",s("code",null,'"blob"'),", and ",s("code",null,'"arrayBuffer"'),"."," ",s(a.a,{href:"/guides/other-response-types"},s("a",null,"Learn more here")),"."),s("li",null,s("b",null,s("code",null,"requestKey")),": Optional."," ",s(a.a,{href:"/guides/caching-responses"},s("a",null,"Learn more here")),".")),s("p",null,"Additional, less commonly used options come from fetch:"),s("ul",null,s("li",null,s("b",null,s("code",null,"mode"))),s("li",null,s("b",null,s("code",null,"credentials"))),s("li",null,s("b",null,s("code",null,"cache")," "),s("i",null,"(note: this is unrelated to the caching system of bestfetch)")),s("li",null,s("b",null,s("code",null,"redirect"))),s("li",null,s("b",null,s("code",null,"referrer"))),s("li",null,s("b",null,s("code",null,"referrerPolicy"))),s("li",null,s("b",null,s("code",null,"integrity"))),s("li",null,s("b",null,s("code",null,"keepalive"))),s("li",null,s("b",null,s("code",null,"signal")))))),s("p",null,"To learn more about the options that come from ",s("code",null,"fetch"),", refer to"," ",s("a",{href:"https://developer.mozilla.org/en-US/docs/Web/API/WindowOrWorkerGlobalScope/fetch"},"the MDN documentation"),"."),s("h3",null,"Returns"),s("p",null,"A"," ",s("a",{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise"},"Promise")," ","that resolves once the response is received from the server or cache. It rejects otherwise."),s("h3",null,"Example Usage"),s(u.a,{language:"js",inline:!1,value:"bestfetch('https://jsonplaceholder.typicode.com/todos/1')\n  .then(res => {\n    console.log('Got some data', res.data);\n  });"}),s("p",null,"More examples, as well as guidance on usage, can be found in the"," ",s(a.a,{href:"/guides/making-requests"},s("a",null,"Making Requests"))," ","guide."))}},Ff2n:function(e,n,t){"use strict";function l(e,n){if(null==e)return{};var t,l,o=function(e,n){if(null==e)return{};var t,l,o={},r=Object.keys(e);for(l=0;l<r.length;l++)t=r[l],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(l=0;l<r.length;l++)t=r[l],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}t.d(n,"a",(function(){return l}))},YFqc:function(e,n,t){e.exports=t("cTJO")},cTJO:function(e,n,t){"use strict";var l=t("lwsE"),o=t("W8MJ"),r=t("a1gu"),u=t("Nsbk"),a=t("7W2i"),s=t("TqRt"),i=t("284h");n.__esModule=!0,n.default=void 0;var c,f=i(t("q1tI")),h=t("QmWs"),p=t("g/15"),d=s(t("nOHt"));function v(e){return e&&"object"===typeof e?(0,p.formatWithValidation)(e):e}var b=new Map,m=window.IntersectionObserver,g={};function y(){return c||(m?c=new m((function(e){e.forEach((function(e){if(b.has(e.target)){var n=b.get(e.target);(e.isIntersecting||e.intersectionRatio>0)&&(c.unobserve(e.target),b.delete(e.target),n())}}))}),{rootMargin:"200px"}):void 0)}var w=function(e){function n(e){var t;return l(this,n),(t=r(this,u(n).call(this,e))).p=void 0,t.cleanUpListeners=function(){},t.formatUrls=function(e){var n=null,t=null,l=null;return function(o,r){if(l&&o===n&&r===t)return l;var u=e(o,r);return n=o,t=r,l=u,u}}((function(e,n){return{href:v(e),as:n?v(n):n}})),t.linkClicked=function(e){var n=e.currentTarget,l=n.nodeName,o=n.target;if("A"!==l||!(o&&"_self"!==o||e.metaKey||e.ctrlKey||e.shiftKey||e.nativeEvent&&2===e.nativeEvent.which)){var r=t.formatUrls(t.props.href,t.props.as),u=r.href,a=r.as;if(function(e){var n=(0,h.parse)(e,!1,!0),t=(0,h.parse)((0,p.getLocationOrigin)(),!1,!0);return!n.host||n.protocol===t.protocol&&n.host===t.host}(u)){var s=window.location.pathname;u=(0,h.resolve)(s,u),a=a?(0,h.resolve)(s,a):u,e.preventDefault();var i=t.props.scroll;null==i&&(i=a.indexOf("#")<0),d.default[t.props.replace?"replace":"push"](u,a,{shallow:t.props.shallow}).then((function(e){e&&i&&(window.scrollTo(0,0),document.body.focus())}))}}},t.p=!1!==e.prefetch,t}return a(n,e),o(n,[{key:"componentWillUnmount",value:function(){this.cleanUpListeners()}},{key:"getPaths",value:function(){var e=window.location.pathname,n=this.formatUrls(this.props.href,this.props.as),t=n.href,l=n.as,o=(0,h.resolve)(e,t);return[o,l?(0,h.resolve)(e,l):o]}},{key:"handleRef",value:function(e){var n=this;this.p&&m&&e&&e.tagName&&(this.cleanUpListeners(),g[this.getPaths().join("%")]||(this.cleanUpListeners=function(e,n){var t=y();return t?(t.observe(e),b.set(e,n),function(){try{t.unobserve(e)}catch(n){console.error(n)}b.delete(e)}):function(){}}(e,(function(){n.prefetch()}))))}},{key:"prefetch",value:function(e){if(this.p){var n=this.getPaths();d.default.prefetch(n[0],n[1],e).catch((function(e){0})),g[n.join("%")]=!0}}},{key:"render",value:function(){var e=this,n=this.props.children,t=this.formatUrls(this.props.href,this.props.as),l=t.href,o=t.as;"string"===typeof n&&(n=f.default.createElement("a",null,n));var r=f.Children.only(n),u={ref:function(n){e.handleRef(n),r&&"object"===typeof r&&r.ref&&("function"===typeof r.ref?r.ref(n):"object"===typeof r.ref&&(r.ref.current=n))},onMouseEnter:function(n){r.props&&"function"===typeof r.props.onMouseEnter&&r.props.onMouseEnter(n),e.prefetch({priority:!0})},onClick:function(n){r.props&&"function"===typeof r.props.onClick&&r.props.onClick(n),n.defaultPrevented||e.linkClicked(n)}};return!this.props.passHref&&("a"!==r.type||"href"in r.props)||(u.href=o||l),f.default.cloneElement(r,u)}}]),n}(f.Component);n.default=w}},[["8Cdm",0,1,3,2]]]);