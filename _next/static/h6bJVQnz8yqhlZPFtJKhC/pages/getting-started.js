(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{ARpD:function(e,t,o){"use strict";o.r(t),o.d(t,"default",(function(){return i}));var n=o("q1tI"),r=o.n(n),s=o("YFqc"),a=o.n(s),l=r.a.createElement;function i(){return l("div",{className:"page"},l("h1",null,"Getting Started"),l("p",null,"bestfetch is a lightweight HTTP library that improves your application's performance by minimizing the number of requests that hit the server."),l("h2",null,"Installation"),l("p",null,"Install using ",l("a",{href:"https://npmjs.com"},"npm"),":"),l("code",{className:"codeBlock"},"npm install bestfetch"),l("p",null,"or ",l("a",{href:"https://yarnpkg.com"},"yarn"),":"),l("code",{className:"codeBlock"},"yarn add bestfetch"),l("h2",null,"Using ",l("code",null,"fetch()")," Guides"),l("p",null,"Because bestfetch is such a lightweight wrapper around fetch, you'll benefit from having knowledge of that API. If you're new to fetch, I recommend reading the"," ",l("a",{href:"https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API/Using_Fetch"},"Using Fetch guide on MDN"),". It's a great introduction."),l("h2",null,"Basic Usage"),l("p",null,"Get started by importing the ",l("code",null,"bestfetch")," method from the library. The following example demonstrates using bestfetch with the"," ",l("a",{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/import"},"ES2015 module syntax"),"."),l("code",{className:"codeBlock"},"import { bestfetch } from 'bestfetch';"),l("p",null,"You're now ready to make a request! In the following example, two requests are made to fetch a todo item from an API."),l("div",{className:"advanced"},l("span",{className:"emoji"},"\ud83d\udc81\u200d\u2640\ufe0f")," ",l("b",null,"Heads up!")," You can copy and paste this code snippet into your browser's developer tools to try it out!"),l("code",{className:"codeBlock"},"bestfetch('https://jsonplaceholder.typicode.com/todos/1')\n  .then(res => {\n    console.log('Got some data', res.data);\n  });\n\n// Additional identical requests are deduped. Nifty.\nbestfetch('https://jsonplaceholder.typicode.com/todos/1')\n  .then(res => {\n    console.log('Got some data', res.data);\n  });"),l("p",null,"If you copy the above code and run it in your browser's developer tools, you can observe that only a single network request is made."),l("p",null,"If you're familiar with ",l("code",null,"fetch"),", you may have noticed that we're not calling ",l("code",null,".json()"),"on the response. Typical ",l("code",null,"fetch")," usage would look like the following:"),l("code",{className:"codeBlock"},"fetch('https://jsonplaceholder.typicode.com/todos/1')\n  .then(res => res.json())\n  .then(data => {\n    console.log('Got some data', data);\n  });"),l("p",null,"When you call ",l("code",null,".json()")," you're reading the response body from the server and parsing it as JSON. When you use bestfetch, the request body is read and parsed as JSON automatically for you (although this"," ",l(a.a,{href:"/guides/other-response-types"},l("a",null,"can be configured")),")."),l("h2",null,"Next Steps"),l("p",null,"Now that you've seen the basic usage of bestfetch, read the"," ",l(a.a,{href:"/guides/making-requests"},l("a",null,"Making Requests"))," ","guide to learn more."))}},YFqc:function(e,t,o){e.exports=o("cTJO")},cTJO:function(e,t,o){"use strict";var n=o("lwsE"),r=o("W8MJ"),s=o("a1gu"),a=o("Nsbk"),l=o("7W2i"),i=o("TqRt"),c=o("284h");t.__esModule=!0,t.default=void 0;var u,h=c(o("q1tI")),p=o("QmWs"),f=o("g/15"),d=i(o("nOHt"));function m(e){return e&&"object"===typeof e?(0,f.formatWithValidation)(e):e}var g=new Map,v=window.IntersectionObserver,y={};function w(){return u||(v?u=new v((function(e){e.forEach((function(e){if(g.has(e.target)){var t=g.get(e.target);(e.isIntersecting||e.intersectionRatio>0)&&(u.unobserve(e.target),g.delete(e.target),t())}}))}),{rootMargin:"200px"}):void 0)}var b=function(e){function t(e){var o;return n(this,t),(o=s(this,a(t).call(this,e))).p=void 0,o.cleanUpListeners=function(){},o.formatUrls=function(e){var t=null,o=null,n=null;return function(r,s){if(n&&r===t&&s===o)return n;var a=e(r,s);return t=r,o=s,n=a,a}}((function(e,t){return{href:m(e),as:t?m(t):t}})),o.linkClicked=function(e){var t=e.currentTarget,n=t.nodeName,r=t.target;if("A"!==n||!(r&&"_self"!==r||e.metaKey||e.ctrlKey||e.shiftKey||e.nativeEvent&&2===e.nativeEvent.which)){var s=o.formatUrls(o.props.href,o.props.as),a=s.href,l=s.as;if(function(e){var t=(0,p.parse)(e,!1,!0),o=(0,p.parse)((0,f.getLocationOrigin)(),!1,!0);return!t.host||t.protocol===o.protocol&&t.host===o.host}(a)){var i=window.location.pathname;a=(0,p.resolve)(i,a),l=l?(0,p.resolve)(i,l):a,e.preventDefault();var c=o.props.scroll;null==c&&(c=l.indexOf("#")<0),d.default[o.props.replace?"replace":"push"](a,l,{shallow:o.props.shallow}).then((function(e){e&&c&&(window.scrollTo(0,0),document.body.focus())}))}}},o.p=!1!==e.prefetch,o}return l(t,e),r(t,[{key:"componentWillUnmount",value:function(){this.cleanUpListeners()}},{key:"getPaths",value:function(){var e=window.location.pathname,t=this.formatUrls(this.props.href,this.props.as),o=t.href,n=t.as,r=(0,p.resolve)(e,o);return[r,n?(0,p.resolve)(e,n):r]}},{key:"handleRef",value:function(e){var t=this;this.p&&v&&e&&e.tagName&&(this.cleanUpListeners(),y[this.getPaths().join("%")]||(this.cleanUpListeners=function(e,t){var o=w();return o?(o.observe(e),g.set(e,t),function(){try{o.unobserve(e)}catch(t){console.error(t)}g.delete(e)}):function(){}}(e,(function(){t.prefetch()}))))}},{key:"prefetch",value:function(e){if(this.p){var t=this.getPaths();d.default.prefetch(t[0],t[1],e).catch((function(e){0})),y[t.join("%")]=!0}}},{key:"render",value:function(){var e=this,t=this.props.children,o=this.formatUrls(this.props.href,this.props.as),n=o.href,r=o.as;"string"===typeof t&&(t=h.default.createElement("a",null,t));var s=h.Children.only(t),a={ref:function(t){e.handleRef(t),s&&"object"===typeof s&&s.ref&&("function"===typeof s.ref?s.ref(t):"object"===typeof s.ref&&(s.ref.current=t))},onMouseEnter:function(t){s.props&&"function"===typeof s.props.onMouseEnter&&s.props.onMouseEnter(t),e.prefetch({priority:!0})},onClick:function(t){s.props&&"function"===typeof s.props.onClick&&s.props.onClick(t),t.defaultPrevented||e.linkClicked(t)}};return!this.props.passHref&&("a"!==s.type||"href"in s.props)||(a.href=r||n),h.default.cloneElement(s,a)}}]),t}(h.Component);t.default=b},pxKX:function(e,t,o){(window.__NEXT_P=window.__NEXT_P||[]).push(["/getting-started",function(){return o("ARpD")}])}},[["pxKX",0,1,2]]]);